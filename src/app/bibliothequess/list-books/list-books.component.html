<div *ngIf="!bibs">
  <div class="d-flex justify-content-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>

<div class="row" *ngIf="bibs">
  <div class="col-2" >
    <div
      class="d-flex flex-column flex-shrink-0 p-3 bg-light "
      style="width: 280px; margin-bottom: 5rem;border-color: blue; border-radius: 5%;box-shadow: 0px 0px 30px blue;"
    >
      <a
        href="bibliotheques"
        class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none"
      >
        <span class="fs-4">Biblioth√®ques</span>
      </a>
      <hr />

      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item" *ngFor="let b of bibs">
          <a
            (click)="changeBib(b.reference)"
            class="nav-link"
          >
            {{ b.nom }}
          </a>
        </li>
      </ul>
      <hr />
    </div>
  </div>
  <div
    class="col-8"
    style="margin-left: 100px; margin-top: 5rem; margin-bottom: 2rem"
  >
    <div>
        <div class="d-flex justify-content-center">
            <h1 class="display-1">{{selectedBib.nom | uppercase}}</h1>
        </div>
      <div class="row row-cols-1 row-cols-md-2 g-4">
        <div *ngFor="let book of books">
          <div class="card shadow p-3 bg-white rounded mb-3">
            <div class="d-flex justify-content-end" id="delete">
              <a
                class="btn btn-outline-danger btn-circle"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal"
                data-bs-whatever="test"
                ><i class="fa-solid fa-x"></i
              ></a>
            </div>
            <img src="{{ book.url }}" class="card-img-top" alt="b" />
            <div class="card-body">
              <div class="row">
                <h5 class="card-title col-8">
                  <b
                    ><u>{{ book.title | uppercase }}</u></b
                  >
                </h5>
                <h5 class="card-title col-8">
                  <b><u>Auteur :</u></b> {{ book.author }}
                </h5>
                <div class="col-4 d-flex justify-content-end">
                  <b>Prix :</b>{{ book.price }}
                </div>
              </div>
              <div class="col-12">
                <h6 class="card-subtitle mb-2 text-muted">
                  <b>Description: </b>{{ book.detail }}
                </h6>
              </div>
              <div class="col-12">
                <h6 class="card-subtitle mb-2">
                  <b>Note: </b>{{ book.rating }}/5
                </h6>
              </div>
              <div class="card-footer">
                <div class="wrapper text-center">
                  <div class="btn-group">
                    <a
                      routerLink="books/{{ book.id }}"
                      class="btn btn-outline-success"
                      >Acheter</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
